# Установка и настройка 

## Описание

Этот проект представляет собой приложение на языке Python, разработанное с использованием фреймворка Flask. Оно предназначено для отображения статистики подключений клиентов к OpenVPN серверу. Основная цель приложения — визуализировать информацию о подключенных клиентах и их трафике в удобном формате.

## Требования

Для успешной установки необходимо, чтобы на сервере были установлены следующие компоненты:

- OpenVPN AntiZapret (обязательно).
- Python 3.12 или выше
- Права суперпользователя (root)


## Шаги установки

1. Обновите пакеты и установите Git:

    ```bash
    sudo apt update && sudo apt install -y git
    ```

2. Клонирование репозитория:

    ```bash
    git clone https://github.com/TheMurmabis/StatusOpenVPN.git web 
    ```

3. Запустите скрипт установки ``setup.sh``:

    ```bash
    chmod +x web/setup.sh && sudo web/setup.sh
    ```

4. В процессе установки будет предложено изменить порт по умолчанию (1234). Вы можете ввести новый порт, если хотите, или оставить его без изменений.

5. После завершения установки приложение будет доступно по адресу:

    ```
    http://<внешний IP>:<порт>
    ```


## Структура проекта

- `setup.sh` - Скрипт для автоматической установки и настройки приложения.
- `requirements.txt` - Список зависимостей Python, необходимых для работы приложения.
- `myapp.service` - Systemd unit файл для управления сервисом Flask приложения.

## Скрипт установки

Скрипт `setup.sh` выполняет следующие действия:

1. **Клонирует репозиторий** в директорию `/root/web`.
2. **Создает виртуальное окружение Python**.
3. **Устанавливает зависимости** из файла `requirements.txt`.
4. **Настраивает Gunicorn** для запуска Flask приложения.
5. **Создает systemd unit файл** для управления сервисом.
6. **Запускает сервис** и проверяет его статус.


## Изменение порта

Если вам нужно изменить порт, на котором работает приложение, запустите скрипт повторно и выберите новый порт. Скрипт проверит, свободен ли указанный порт, и предложит повторный ввод в случае занятости.

## Удаление

Для удаления сервиса и всех его компонентов запустите скрипт удаления ``uninstall.sh``:
```bash
chmod +x web/uninstall.sh && web/uninstall.sh
```


## Примечания

- Убедитесь, что ваш сервер имеет открытый порт, на котором будет работать ваше приложение.
- Если вы используете облачный сервер, убедитесь, что правила брандмауэра (firewall) позволяют входящие подключения на указанный порт.

## Об авторе

Этот проект был создан и поддерживается пользователем **TheMurmabis**. Для любых вопросов или предложений, пожалуйста, обращайтесь через Issues на GitHub.
